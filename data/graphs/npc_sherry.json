{
  "id": "npc_sherry",
  "name": "Sherry",
  "layout": "visual_novel",
  "portrait": "NPC_Sherry",
  "initialNode": "root_router",
  "nodes": {
    "root_router": {
      "type": "ROUTER",
      "branches": [
         { "condition": "questStatus:antivirus:completed", "target": "quest_completed_text" },
         { "condition": "questStatus:antivirus:active", "target": "quest_active_text" }
      ],
      "next": "quest_offer_text"
    },
    "quest_offer_text": {
      "type": "TEXT",
      "speaker": "Sherry",
      "content": "I don't feel so good... My chest hurts. My daddy... he did this to me.",
      "next": "quest_offer_choices"
    },
    "quest_offer_choices": {
      "type": "CHOICE",
      "options": [
        { "label": "Hang in there, Sherry.", "target": "action_offer_quest" }
      ]
    },
    "action_offer_quest": {
      "type": "ACTION",
      "action": "OFFER_QUEST",
      "questId": "antivirus",
      "acceptNode": "quest_active_text",
      "declineNode": "quest_offer_choices"
    },
    "quest_active_text": {
      "type": "TEXT",
      "speaker": "Sherry",
      "content": "Please... it hurts...",
      "next": "quest_active_router"
    },
    "quest_active_router": {
      "type": "ROUTER",
      "condition": "hasItem:t_antivirus",
      "trueNode": "quest_turnin_text",
      "falseNode": "quest_exit"
    },
    "quest_exit": {
        "type": "CHOICE",
        "options": [{ "label": "I'll get the cure.", "action": "close" }]
    },
    "quest_turnin_text": {
      "type": "TEXT",
      "speaker": "System",
      "content": "You administer the vaccine. Sherry's breathing stabilizes.",
      "next": "action_complete_quest"
    },
    "action_complete_quest": {
      "type": "ACTION",
      "action": "COMPLETE_QUEST",
      "questId": "antivirus",
      "completeNode": "quest_completed_text",
      "takeItem": "t_antivirus"
    },
    "quest_completed_text": {
      "type": "TEXT",
      "speaker": "Sherry",
      "content": "Thank you... I'm sleepy...",
      "next": "quest_completed_choices"
    },
    "quest_completed_choices": {
       "type": "CHOICE",
       "options": [{ "label": "Rest now.", "action": "close" }]
    }
  }
}

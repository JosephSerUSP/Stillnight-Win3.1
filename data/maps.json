[
  {
    "title": "Town of Stillnight",
    "intro": "A quiet settlement on the edge of the void.",
    "depth": 0,
    "safe": true,
    "music": "town1",
    "image": "TownAlencar.png",
    "layout": [
      "#########G#########",
      "#########.#########",
      "#.......#.#.......#",
      "#.###.........###.#",
      "#.###.........###.#",
      "#.#W#.........#U#.#",
      "#.................#",
      "#.###.........#L#.#",
      "#.##H...#.#...###.#",
      "#.###S...R....A##.#",
      "#.###...#.#...###.#",
      "#.................#",
      "#########....#P#..#",
      "#########....###..#",
      "########T....###..#",
      "#########....###..#",
      "#########....###..#",
      "#.................#",
      "#############.#####"
    ],
    "events": [
      { "id": "npc_gate_guard", "x": 9, "y": 0 },
      { "id": "npc_weapon_shop", "x": 3, "y": 5 },
      { "id": "recruit", "x": 15, "y": 5 },
      { "id": "npc_laura", "x": 15, "y": 7 },
      { "id": "loc_abandoned_house", "x": 4, "y": 8 },
      { "id": "recovery", "x": 9, "y": 9 },
      { "id": "npc_alicia", "x": 14, "y": 9 },
      { "id": "npc_gambler", "x": 6, "y": 9 },
      { "id": "loc_pub", "x": 14, "y": 12 },
      { "id": "npc_auction", "x": 10, "y": 13 },
      { "id": "loc_temple", "x": 8, "y": 14 },
      {
          "id": "event_trigger_rpd",
          "x": 9, "y": 18,
          "trigger": "step",
          "scripts": {
              "onEnter": [
                  { "type": "SET_FLAG", "flag": "reached_rpd" },
                  { "type": "LOG", "text": "You see the R.P.D. station ahead." }
              ]
          }
      }
    ],
    "treasures": [],
    "encounters": [],
    "recruits": []
  },
  {
    "title": "Raccoon City Streets",
    "intro": "The city is in flames. The dead walk the streets.",
    "depth": 1,
    "music": "dungeon1",
    "image": "DungeonFloors1.png",
    "layout": [
        "#####S#####",
        "#.........#",
        "#.#######.#",
        "#.#.....#.#",
        "#.#.....#.#",
        "#.#.....#.#",
        "#.#######.#",
        "#.........#",
        "#...E.....#",
        "###########"
    ],
    "events": [
        { "id": "stairs", "count": 1 },
        { "id": "npc_brad", "x": 5, "y": 5 },
        { "id": "enemy", "min": 3, "max": 5 },
        {
            "id": "trigger_rpd_entrance",
            "trigger": "step",
            "x": 5, "y": 0,
            "scripts": {
                "onEnter": [
                    { "type": "SET_FLAG", "flag": "reached_rpd" }
                ]
            }
        }
    ],
    "encounters": [
        { "id": "zombie_shambler", "weight": 10 },
        { "id": "zombie_dog", "weight": 3 }
    ],
    "treasures": ["green_herb", "handgun_ammo"]
  },
  {
    "title": "R.P.D. Main Hall",
    "intro": "A grand hall, now a temporary shelter.",
    "depth": 2,
    "music": "town1",
    "image": "TownAlencar.png",
    "layout": [
        "#####S#####",
        "#....G....#",
        "#.........#",
        "#.#######.#",
        "#.#M....#.#",
        "#.#.....#.#",
        "#.#######.#",
        "#.........#",
        "#####D#####"
    ],
    "events": [
        { "id": "stairs", "count": 1 },
        { "id": "npc_marvin", "x": 3, "y": 4 },
        { "id": "recovery", "x": 5, "y": 5 },
        {
            "id": "trigger_medallion_maiden",
            "trigger": "touch",
            "x": 5, "y": 1,
            "scripts": {
                "onEnter": [
                    { "type": "TEXT", "text": "You found the Maiden Medallion!", "style": "terminal" },
                    { "type": "GIVE_ITEM", "itemId": "maiden_medallion" }
                ]
            }
        }
    ]
  },
  {
    "title": "R.P.D. West Wing",
    "intro": "Dark corridors filled with shadows.",
    "depth": 3,
    "music": "dungeon1",
    "image": "DungeonFloors1.png",
    "events": [
        { "id": "stairs", "count": 1 },
        { "id": "enemy", "min": 4, "max": 6 },
        { "id": "treasure", "min": 2, "max": 3 },
        { "id": "npc_dungeon_merchant", "chance": 0.2 },
        {
            "id": "trigger_medallion_lion",
            "trigger": "touch",
            "scripts": {
                "onEnter": [
                    { "type": "TEXT", "text": "You found the Lion Medallion!", "style": "terminal" },
                    { "type": "GIVE_ITEM", "itemId": "lion_medallion" }
                ]
            }
        }
    ],
    "encounters": [
        { "id": "zombie_shambler", "weight": 8 },
        { "id": "licker", "weight": 2 }
    ],
    "treasures": ["green_herb", "red_herb", "handgun_ammo", "spade_key"]
  },
  {
    "title": "R.P.D. East Wing",
    "intro": "The eastern offices are flooded.",
    "depth": 3,
    "music": "dungeon1",
    "image": "DungeonFloors1.png",
    "events": [
        { "id": "stairs", "count": 1 },
        { "id": "enemy", "min": 4, "max": 6 },
        { "id": "treasure", "min": 2, "max": 3 },
        {
            "id": "trigger_elliot_note",
            "trigger": "touch",
            "scripts": {
                "onEnter": [
                    { "type": "TEXT", "text": "You found Officer Elliot's notebook.", "style": "terminal" },
                    { "type": "SET_FLAG", "flag": "found_elliot_notebook" }
                ]
            }
        },
        {
            "id": "trigger_medallion_unicorn",
            "trigger": "touch",
            "scripts": {
                "onEnter": [
                    { "type": "TEXT", "text": "You found the Unicorn Medallion!", "style": "terminal" },
                    { "type": "GIVE_ITEM", "itemId": "unicorn_medallion" }
                ]
            }
        }
    ],
    "encounters": [
        { "id": "zombie_shambler", "weight": 8 },
        { "id": "zombie_dog", "weight": 2 }
    ],
    "treasures": ["handgun_ammo", "shotgun"]
  },
  {
    "title": "Underground Facility",
    "intro": "Machinery hums in the darkness.",
    "depth": 4,
    "music": "event4_darkJester",
    "image": "DungeonFloors1.png",
    "events": [
        { "id": "npc_birkin", "count": 1 },
        { "id": "stairs", "count": 1 }
    ],
    "encounters": [
        { "id": "g_mutant", "weight": 10 }
    ]
  },
  {
    "title": "Sewers",
    "intro": "The stench is unbearable.",
    "depth": 5,
    "music": "dungeon1",
    "image": "DungeonFloors1.png",
    "events": [
        { "id": "stairs", "count": 1 },
        { "id": "npc_ada", "count": 1 },
        { "id": "enemy", "min": 5, "max": 8 },
        {
            "id": "trigger_sewer_key",
            "trigger": "touch",
            "scripts": {
                "onEnter": [
                    { "type": "TEXT", "text": "You found the Sewer Control Key.", "style": "terminal" },
                    { "type": "SET_FLAG", "flag": "sewer_key_found" }
                ]
            }
        },
        {
            "id": "trigger_plugs",
            "trigger": "touch",
            "scripts": {
                "onEnter": [
                    { "type": "TEXT", "text": "You found the King and Queen Plugs.", "style": "terminal" },
                    { "type": "SET_FLAG", "flag": "plugs_found" }
                ]
            }
        }
    ],
    "encounters": [
        { "id": "zombie_shambler", "weight": 5 },
        { "id": "g_mutant", "weight": 1 },
        { "id": "licker", "weight": 4 }
    ],
    "treasures": ["magnum", "mixed_herb"]
  },
  {
    "title": "NEST Lab - North Area",
    "intro": "Sterile white hallways.",
    "depth": 6,
    "music": "event9_magical",
    "image": "TownAlencar.png",
    "events": [
        { "id": "npc_sherry", "count": 1 },
        { "id": "stairs", "count": 1 },
        { "id": "recovery", "count": 1 },
        {
            "id": "trigger_vaccine_base",
            "trigger": "touch",
            "scripts": {
                "onEnter": [
                    { "type": "TEXT", "text": "You found the Vaccine Base.", "style": "terminal" },
                    { "type": "GIVE_ITEM", "itemId": "vaccine_base" }
                ]
            }
        }
    ],
    "encounters": [
        { "id": "zombie_shambler", "weight": 2 },
        { "id": "licker", "weight": 3 },
        { "id": "tyrant_t00", "weight": 1 }
    ],
    "treasures": ["vaccine_base"]
  },
  {
    "title": "NEST Lab - West Area",
    "intro": "High security zone.",
    "depth": 7,
    "music": "dungeon1",
    "image": "DungeonFloors1.png",
    "events": [
        { "id": "npc_announcer", "count": 1 },
        { "id": "enemy", "min": 6, "max": 9 }
    ],
    "encounters": [
        { "id": "licker", "weight": 4 },
        { "id": "tyrant_t00", "weight": 2 },
        { "id": "zombie_shambler", "weight": 4 }
    ],
    "treasures": ["rocket_launcher", "first_aid_spray"]
  },
  {
    "title": "Escape Train",
    "intro": "The final countdown.",
    "depth": 8,
    "music": "event4_darkJester",
    "image": "TownAlencar.png",
    "events": [
        { "id": "npc_nemesis", "count": 1 },
        {
            "id": "trigger_platform",
            "trigger": "step",
            "scripts": {
                "onEnter": [
                    { "type": "SET_FLAG", "flag": "reached_platform" }
                ]
            }
        }
    ],
    "encounters": [
        { "id": "nemesis", "weight": 10 }
    ]
  }
]

[
  {
    "id": "stairs",
    "type": "stairs",
    "symbol": "S",
    "cssClass": "tile-stairs",
    "trigger": "touch",
    "actions": [{ "type": "DESCEND" }]
  },
  {
    "id": "recovery",
    "type": "recovery",
    "symbol": "R",
    "cssClass": "tile-recovery",
    "trigger": "touch",
    "actions": [{ "type": "HEAL_PARTY" }]
  },
  {
    "id": "enemy",
    "type": "enemy",
    "symbol": "E",
    "cssClass": "tile-enemy",
    "trigger": "touch",
    "actions": [{ "type": "BATTLE" }]
  },
  {
    "id": "shrine",
    "type": "shrine",
    "symbol": "♱",
    "cssClass": "tile-shrine",
    "trigger": "touch",
    "actions": [{ "type": "SHRINE" }]
  },
  {
    "id": "shop",
    "type": "shop",
    "symbol": "¥",
    "cssClass": "tile-shop",
    "trigger": "touch",
    "actions": [{ "type": "SHOP" }]
  },
  {
    "id": "recruit",
    "type": "recruit",
    "symbol": "U",
    "cssClass": "tile-recruit",
    "trigger": "touch",
    "actions": [{ "type": "RECRUIT" }]
  },
  {
    "id": "npc",
    "type": "npc",
    "symbol": "N",
    "cssClass": "tile-npc",
    "trigger": "touch",
    "actions": [{ "type": "NPC_DIALOGUE" }]
  },
  {
    "id": "trap",
    "type": "trap",
    "symbol": "T",
    "cssClass": "tile-trap",
    "trigger": "touch",
    "hidden": true,
    "trapValue": 5,
    "actions": [{ "type": "TRAP_TRIGGER", "damage": 5, "message": "You triggered a spike trap!" }]
  },
  {
    "id": "treasure",
    "type": "treasure",
    "symbol": "$",
    "cssClass": "tile-treasure",
    "trigger": "touch",
    "actions": [{ "type": "TREASURE" }]
  },
  {
    "id": "shrine_shade",
    "type": "shrine_scenario",
    "title": "Whispering Shade",
    "description": "A whisper from beyond promises knowledge... at a price.",
    "choices": [
      {
        "label": "Offer HP (lose 3 HP each, gain XP)",
        "effect": { "type": "multi", "effects": [
          { "type": "hp", "value": -3, "target": "all" },
          { "type": "xp", "value": 4, "target": "all" }
        ]}
      },
      {
        "label": "Decline",
        "effect": { "type": "message", "value": "[Shrine] You ignore the whispers." }
      }
    ]
  },
  {
    "id": "shrine_idol",
    "type": "shrine_scenario",
    "title": "Gleaming Idol",
    "description": "A gleaming idol stands before you, radiating warmth. Touching it could imbue power or curse you.",
    "choices": [
      {
        "label": "Touch the idol",
        "effect": { "type": "random", "outcomes": [
          { "chance": 0.5, "effect": { "type": "maxHp", "value": 2, "target": "all" } },
          { "chance": 0.5, "effect": { "type": "hp", "value": -2, "target": "all" } }
        ]}
      },
      {
        "label": "Walk away",
        "effect": { "type": "message", "value": "[Shrine] You leave the idol untouched." }
      }
    ]
  },
  {
    "id": "shrine_spirit",
    "type": "shrine_scenario",
    "title": "Bargaining Spirit",
    "description": "A translucent merchant appears, offering to trade gold for knowledge.",
    "choices": [
      {
        "label": "Pay 5G for knowledge",
        "effect": { "type": "gold", "value": -5, "onSuccess": { "type": "xp", "value": 6, "target": "all" } }
      },
      {
        "label": "Attempt to bargain",
        "effect": { "type": "random", "outcomes": [
          { "chance": 0.5, "effect": { "type": "xp", "value": 4, "target": "all" } },
          { "chance": 0.5, "effect": { "type": "gold", "value": -2 } }
        ]}
      },
      {
        "label": "Leave",
        "effect": { "type": "message", "value": "[Shrine] You refuse the deal." }
      }
    ]
  },
  {
    "id": "shrine_haste",
    "type": "shrine_scenario",
    "title": "Trial of Haste",
    "description": "A spectral stopwatch hovers in the air, its ticking echoing in your mind. It offers a challenge: a trial of speed for a reward.",
    "choices": [
      {
        "label": "Accept the trial (high risk, high reward)",
        "effect": { "type": "random", "outcomes": [
          { "chance": 0.4, "effect": { "type": "xp", "value": 15, "target": "all" } },
          { "chance": 0.6, "effect": { "type": "hp", "value": -5, "target": "all" } }
        ]}
      },
      {
        "label": "Take a small reward instead",
        "effect": { "type": "gold", "value": 10 }
      }
    ]
  },
  {
    "id": "story_luminous_cache",
    "type": "story",
    "symbol": "★",
    "cssClass": "tile-story",
    "trigger": "touch",
    "actions": [
      { "type": "MESSAGE", "text": "Moonlit petals spill from a collapsed crate." },
      { "type": "GIVE_ITEM", "itemId": "luminous_petal" },
      { "type": "STORY_TRIGGER", "storyTrigger": "luminous_cache" },
      { "type": "CLEAR_EVENT" }
    ]
  },
  {
    "id": "story_nightglass_cache",
    "type": "story",
    "symbol": "★",
    "cssClass": "tile-story",
    "trigger": "touch",
    "actions": [
      { "type": "MESSAGE", "text": "A fossilized shard of night sits in a ritual circle." },
      { "type": "GIVE_ITEM", "itemId": "nightglass_shard" },
      { "type": "STORY_TRIGGER", "storyTrigger": "nightglass_cache" },
      { "type": "CLEAR_EVENT" }
    ]
  },
  {
    "id": "story_chasm_ore_cache",
    "type": "story",
    "symbol": "★",
    "cssClass": "tile-story",
    "trigger": "touch",
    "actions": [
      { "type": "MESSAGE", "text": "Ore veins glitter with trapped lightning." },
      { "type": "GIVE_ITEM", "itemId": "chasm_ore" },
      { "type": "STORY_TRIGGER", "storyTrigger": "chasm_ore_cache" },
      { "type": "CLEAR_EVENT" }
    ]
  },
  {
    "id": "story_antique_emblem_cache",
    "type": "story",
    "symbol": "★",
    "cssClass": "tile-story",
    "trigger": "touch",
    "actions": [
      { "type": "MESSAGE", "text": "An emblem rests atop auction scrip left to rot." },
      { "type": "GIVE_ITEM", "itemId": "antique_emblem" },
      { "type": "STORY_TRIGGER", "storyTrigger": "antique_emblem_cache" },
      { "type": "CLEAR_EVENT" }
    ]
  },
  {
    "id": "story_radiant_band_cache",
    "type": "story",
    "symbol": "★",
    "cssClass": "tile-story",
    "trigger": "touch",
    "actions": [
      { "type": "MESSAGE", "text": "A golden band glows faintly beneath dust." },
      { "type": "GIVE_ITEM", "itemId": "radiant_band" },
      { "type": "STORY_TRIGGER", "storyTrigger": "radiant_band_cache" },
      { "type": "CLEAR_EVENT" }
    ]
  },
  {
    "id": "story_sunless_orchid_cache",
    "type": "story",
    "symbol": "★",
    "cssClass": "tile-story",
    "trigger": "touch",
    "actions": [
      { "type": "MESSAGE", "text": "A sunless orchid blooms in blood-warm air." },
      { "type": "GIVE_ITEM", "itemId": "sunless_orchid" },
      { "type": "STORY_TRIGGER", "storyTrigger": "sunless_orchid_cache" },
      { "type": "CLEAR_EVENT" }
    ]
  },
  {
    "id": "story_embered_alloy_cache",
    "type": "story",
    "symbol": "★",
    "cssClass": "tile-story",
    "trigger": "touch",
    "actions": [
      { "type": "MESSAGE", "text": "Alloy chunks smoke as you lift them." },
      { "type": "GIVE_ITEM", "itemId": "embered_alloy" },
      { "type": "STORY_TRIGGER", "storyTrigger": "embered_alloy_cache" },
      { "type": "CLEAR_EVENT" }
    ]
  },
  {
    "id": "story_sealed_ledger_cache",
    "type": "story",
    "symbol": "★",
    "cssClass": "tile-story",
    "trigger": "touch",
    "actions": [
      { "type": "MESSAGE", "text": "A wax-sealed ledger waits under a bone-plated altar." },
      { "type": "GIVE_ITEM", "itemId": "sealed_ledger" },
      { "type": "STORY_TRIGGER", "storyTrigger": "sealed_ledger_cache" },
      { "type": "CLEAR_EVENT" }
    ]
  }
]
